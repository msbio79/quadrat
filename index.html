<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>방형구법 시뮬레이션</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="app-container">
        <!-- Left Side: Ecosystem Field -->
        <main class="field-area" id="field-area">
            <div class="field-header">
                <h1>생태계 조사 필드</h1>
                <p>다양한 식물들이 자라고 있는 들판입니다.</p>
            </div>

            <div class="ecosystem" id="ecosystem">
                <!-- Plants will be generated here -->

                <!-- Draggable Quadrat -->
                <div class="quadrat" id="quadrat">
                    <div class="quadrat-label">방형구 (1m x 1m)</div>
                </div>
            </div>
        </main>

        <!-- Right Side: Control & Data Panel -->
        <aside class="control-panel">
            <div class="panel-section guide-section">
                <h2>📜 이용 안내</h2>
                <p>1. 방형구를 드래그하여 필드 위의 원하는 위치에 놓으세요.</p>
                <p>2. 방형구 안에 들어온 식물의 수를 세어 기록하세요.</p>
                <p>3. 여러 지점을 조사하여 평균 밀도를 구해봅시다.</p>
            </div>

            <div class="panel-section stats-section">
                <h2>📊 조사 기록</h2>
                <div class="stats-controls">
                    <button id="btn-generate" class="secondary-btn">새로운 생태계</button>
                    <button id="btn-reset-data" class="secondary-btn">기록 초기화</button>
                    <button id="btn-record" class="primary-btn">방형구 기록 📝</button>
                </div>

                <div class="data-table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>조사 횟수</th>
                                <th>민들레 🌼</th>
                                <th>클로버 ☘️</th>
                                <th>강아지풀 🌿</th>
                            </tr>
                        </thead>
                        <tbody id="data-body">
                            <!-- Datarows will be added here -->
                        </tbody>
                        <tfoot>
                            <tr class="total-row">
                                <td>평균</td>
                                <td id="avg-dandelion">-</td>
                                <td id="avg-clover">-</td>
                                <td id="avg-foxtail">-</td>
                            </tr>
                        </tfoot>
                    </table>
                </div>

                <div class="analysis-dashboard">
                    <h3>🔍 종합 분석 결과</h3>

                    <div class="result-category">
                        <h4>1. 밀도 (Density) & 상대밀도 (R.D.)</h4>
                        <p class="sub-text">단위 면적당 개체수</p>
                        <div class="result-row">
                            <div class="result-card dandelion">
                                <span class="label">민들레</span>
                                <div class="values">
                                    <span>밀도: <strong id="den-dan">0</strong></span>
                                    <span>R.D: <strong id="rd-dan">0%</strong></span>
                                </div>
                            </div>
                            <div class="result-card clover">
                                <span class="label">클로버</span>
                                <div class="values">
                                    <span>밀도: <strong id="den-clo">0</strong></span>
                                    <span>R.D: <strong id="rd-clo">0%</strong></span>
                                </div>
                            </div>
                            <div class="result-card foxtail">
                                <span class="label">강아지풀</span>
                                <div class="values">
                                    <span>밀도: <strong id="den-fox">0</strong></span>
                                    <span>R.D: <strong id="rd-fox">0%</strong></span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="result-category">
                        <h4>2. 빈도 (Frequency) & 상대빈도 (R.F.)</h4>
                        <p class="sub-text">방형구 출현 비율</p>
                        <div class="result-row">
                            <div class="result-card dandelion">
                                <span class="label">민들레</span>
                                <div class="values">
                                    <span>빈도: <strong id="freq-dan">0</strong></span>
                                    <span>R.F: <strong id="rf-dan">0%</strong></span>
                                </div>
                            </div>
                            <div class="result-card clover">
                                <span class="label">클로버</span>
                                <div class="values">
                                    <span>빈도: <strong id="freq-clo">0</strong></span>
                                    <span>R.F: <strong id="rf-clo">0%</strong></span>
                                </div>
                            </div>
                            <div class="result-card foxtail">
                                <span class="label">강아지풀</span>
                                <div class="values">
                                    <span>빈도: <strong id="freq-fox">0</strong></span>
                                    <span>R.F: <strong id="rf-fox">0%</strong></span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="result-category">
                        <h4>3. 피도 (Coverage) & 상대피도 (R.C.)</h4>
                        <p class="sub-text">지표면 점유 면적 (개체별 고정값 가정)</p>
                        <div class="result-row">
                            <div class="result-card dandelion">
                                <span class="label">민들레</span>
                                <div class="values">
                                    <span>피도: <strong id="cov-dan">0</strong></span>
                                    <span>R.C: <strong id="rc-dan">0%</strong></span>
                                </div>
                            </div>
                            <div class="result-card clover">
                                <span class="label">클로버</span>
                                <div class="values">
                                    <span>피도: <strong id="cov-clo">0</strong></span>
                                    <span>R.C: <strong id="rc-clo">0%</strong></span>
                                </div>
                            </div>
                            <div class="result-card foxtail">
                                <span class="label">강아지풀</span>
                                <div class="values">
                                    <span>피도: <strong id="cov-fox">0</strong></span>
                                    <span>R.C: <strong id="rc-fox">0%</strong></span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="result-category total">
                        <h4>👑 중요치 (Importance Value)</h4>
                        <p class="sub-text">R.D + R.F + R.C (만점 300)</p>
                        <div class="result-row">
                            <div class="result-card dandelion">
                                <span>민들레: <strong id="iv-dan">0</strong></span>
                            </div>
                            <div class="result-card clover">
                                <span>클로버: <strong id="iv-clo">0</strong></span>
                            </div>
                            <div class="result-card foxtail">
                                <span>강아지풀: <strong id="iv-fox">0</strong></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </aside>
    </div>
    <script src="script.js"></script>
</body>

</html>